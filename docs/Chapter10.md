- [10장 클래스 ](#클래스)
    
    [클래스 체계](#클래스-체계)

    [클래스는 작아야 한다](#클래스는-작아야-한다)

    [변경하기 쉬운 클래스](#변경하기-쉬운-클래스)

- [오늘의 기억하고 싶은 내용](#오늘의-기억하고-싶은-내용)

***

## 클래스

지금까지 우리는 코드 행, 블록을 올바로 작성하는 방법에 초점을 맞추었으며, 함수를 올바르게 구현하기 위한 방식도 공부했다.

하지만 코드의 표현력과 그 코드들로 이루어진 함수에 신경쓰더라도, 더 높은 단계까지 신경쓰지 않는다면 깨끗한 코드는 유지되기 어렵다.

그렇기에 이 장은 깨끗한 클래스를 작성하기 위한 내용을 다룬다.

### 클래스 체계

클래스 체계를 먼저 살펴보면, 가장 먼저 변수 목록이 차지한다.

static public 변수가 있다면, 가장 먼저 나오고, 그 다음 static private 변수가 나온다.

그 다음 public 변수, private 변수가 나온다. 공개 변수가 필요한 경우는 거의 없지만 '있다면' 말이다.

그 다음으로, public 함수가 나오고, private 함수는 자신을 호출한 public 함수 직후에 넣는다.

이 처럼, 추상화 단계가 순차적으로 내려가도록 하여야 한다는 것이다.

#### 캡슐화

변수와 유틸리티 함수는 공개하지 않는 편이 낫지만, 반드시 숨겨야 하는 규칙이 있는 것은 아니다.

같은 패키지 안에서 테스트 코드가 함수를 호출하거나 변수를 사용해야 할 경우, 그 함수나 변수를 protected로 선언하거나 패키지 전체로 공개한다.

***

### 클래스는 작아야 한다

클래스를 생성할 때 첫 번째 규칙은 함수와 마찬가지로 '크기'이다.  그럼 얼마나 작아야할까?

함수는 물리적인 행 수로 크기를 측정했더라면, 클래스는 맡은 책임을 세어야 한다.

#### 단일 책임 원칙

클래스는 단일 책임 원칙(Single Responsibility Principle, SRP)를 따라야 한다.

즉, 클래스를 변경할 이유는 하나만 존재해야 한다는 것이다.

또한, 클래스의 이름은 이 책임을 뜻해야 한다. 이름이 떠오르지 않는다면, 여러 책임, 기능을 갖고 있다는 것을 뜻하는 것과 같다.


#### 응집도

클래스는 인스턴스 변수 수가 작아야 한다. 또한, 각 클래스 메소드는 클래스 인스턴스 변수를 하나 이상 사용해야 한다.

일반적으로 메소드가 변수를 더 많이 사용할 수록, 그리고 모든 인스턴스 변수를 메소드마다 사용하는 클래스일 수록 응집도가 더 높다.

일반적으로 응집도가 가장 높은 클래스는 가능하지도 바람직하지도 않지만, 우리는 응집도가 높은 클래스를 선호한다.

그것은 클래스에 속한 메소드와 변수가 서로 의존하여, 논리적인 단위로 묶여있다는 의미기 때문이다.

***

### 변경하기 쉬운 클래스

대다수 시스템은 지속적인 변경이 필요해진다. 그리고 변경할 때 마다 시스템이 의도대로 동작하지 않을 위험을 가진다.

깨끗한 시스템은 클래스를 체계적으로 정리해, 발생할 위험 가능성을 낮춘다.

물론 그렇다 하더라도, 어떤 변경이든 클래스에 손을 댈 경우, 다른 코드를 망가뜨릴 위험이 존재하기에 테스트는 완전히 다시 해야 한다.

***

## 오늘의 기억하고 싶은 내용

### 변경으로부터 격리

해당 파트는 그간 신경쓰던 '모듈화'와 그것에 따른 응집도, 결합도의 상관관계에 대해서 우리에게 Portfolio 라는 클래스 예제를 들어 설명해주고 있다.

요구 사항은 변하기 마련이고, 따라서 코드도 변하기 마련이다.

만약, 응집도가 낮고 결합도가 높다면, 해당 클래스를 따로 떼어내서 사용할 수도, 의존하던 모듈이 변경되면 문제가 연쇄적으로 발생할 수 밖에 없기 때문이다.

***

## 해시태그 ##
#코딩 #개발자 #노마드코더 #북클럽 #노개북

***

## 작성시기 ##
2022.05.11

***